# API DOCUMENTATION 

Gli endpoint utilittati sono i seguenti:



| Metodi | Endpoint    | Descrizione                        | Accesso permesso | Json |
|--------|-------------|------------------------------------|------------------|------|
| GET    | /api/admin  | Recupera l'elenco di tutti gli admin |                  | ```{ "nome": "Luca", "cognome": "Bianchi", "email": "luca.bianchi@immobiliaris.it", "passw": "admin123", "id_admin": 1, "id_ruolo": 1 }``` |
| POST   | /api/admin  | Crea un nuovo admin                 |                  | ```{ "nome": "Luca", "cognome": "Bianchi", "email": "luca.bianchi@immobiliaris.it", "passw": "admin123", "id_ruolo": 1 }``` |
| GET | /api/admin{id} | Recupera i dettagli di un admin specifico tramite il suo id |  | ```{ "nome": "Luca", "cognome": "Bianchi", "email": "luca.bianchi@immobiliaris.it", "passw": "admin123", "id_admin": 1, "id_ruolo": 1 }``` |
| DELETE | /api/admin/delete/{id} | Elimina un admin specifico tramite il suo id |  |
| PUT | /api/admin/edit/{id} | Modifica un admin specifico tramite il suo id | | ```{ "nome": "Luca", "cognome": "Bianchi", "email": "luca.bianchi@immobiliaris.it", "passw": "admin123", "id_admin": 1, "id_ruolo": 1 }``` |
| GET | /api/agenti | Recupera l'elenco di tutti gli agenti | Utente e Admin | ```{"nome": "Marco","cognome": "Verdi","telefono": "3456789012","città": "Milano","email": "marco.verdi@immobiliaris.it","passw": "agente123","id_agente": 1,"id_ruolo": 2 }``` |
| POST | /api/agenti | Crea un nuovo agente | Admin |  ```{"nome": "Marco","cognome": "Verdi","telefono": "3456789012","città": "Milano","email": "marco.verdi@immobiliaris.it","passw": "agente123","id_ruolo": 2 }``` |
| GET | /api/agenti{id} | Recupera i dettagli di un agente specifico tramite il suo id | Admin | ```{"nome": "Marco","cognome": "Verdi","telefono": "3456789012","città": "Milano","email": "marco.verdi@immobiliaris.it","passw": "agente123","id_agente": 1,"id_ruolo": 2 }``` |
| GET | /api/agenti/delete/{id} | Elimina un agente specifico tramite il suo id | Admin |
| PUT | /api/agenti/edit/{id} | Modifica un agente specifico tramite il suo id | Admin |  ```{"nome": "Marco","cognome": "Verdi","telefono": "3456789012","città": "Milano","email": "marco.verdi@immobiliaris.it","passw": "agente123","id_agente": 1,"id_ruolo": 2 }``` |
| POST | /api/auth/login | verifica credenziali e genera token JWT | tutti |  ``` {"email": "utente@example.com","password": "password123"} ```|
| GET | /api/auth/me | legge jwt valida e restituisce | tutti |  ``` {"id": 1,"email": "utente@example.com","role": "ADMIN"}```|
| GET | /api/caratteristiche | Recupera l'elenco di tutte le caratteristiche degli immobili | Admin | ```{"tipologia":"Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2, "balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1}```|
| POST | /api/caratteristiche | Crea una nuova caratteristica dell'immobile | Admin | ```{"tipologia":"Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2, "balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet"}```|
| GET | /api/caratteristiche{id} | Recupera i dettagli di una caratteristica specifica tramite il suo id | Utente |```{"tipologia":"Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2, "balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1}```|
| DELETE | /api/caratteristiche/delete/{id} | Elimina una caratteristica specifica tramite il suo id | Admin |
| PUT | /api/caratteristiche/edit/{id} | Modifica una caratteristica specifica tramite il suo id |  Admin | ```{"tipologia":"Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2, "balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1}```|
| GET | /api/contratti | Recupera l'elenco di tutti i contratti | Admin | ```{ "id_utente": 2, "id_immobile": 1, "prezzo": 40000,  "id_agente": 1, "data_di_scadenza": "2025-12-02" } ```|
| POST | /api/contratti | Crea un nuovo contratto | Admin | ```{ "id_utente": 2, "id_immobile": 1, "prezzo": 40000,  "id_agente": 1, "data_di_scadenza": "2025-12-02" ,"id_contratto": 2} ```|
| GET | /api/contratti{id} | Recupera i dettagli di un contratto specifico tramite il suo id | Admin | ```{ "id_utente": 2, "id_immobile": 1, "prezzo": 40000,  "id_agente": 1, "data_di_scadenza": "2025-12-02" ,"id_contratto": 2} ```|
| DELETE | /api/contratti/delete/{id} | Elimina un contratto specifico tramite il suo id | Admin |
| PUT | /api/contratti/edit/{id} | Modifica un contratto specifico tramite il suo id | Admin | ```{ "id_utente": 2, "id_immobile": 1, "prezzo": 40000,  "id_agente": 1, "data_di_scadenza": "2025-12-02" ,"id_contratto": 2} ```|
| GET | /api/immobili | Recupera l'elenco di tutti gli immobili | Utente |``` {"foto": "foto1.jpg","cap": "20100","citta": "Milano","indirizzo": "Via Dante 12","prezzo": 350000.0,"locali": 4,"superficie": 120,"descrizione": "Appartamento moderno in zona centrale con vista Duomo","caratteristiche": {"tipologia": "Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2,"balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1},"planimetria":"planimetria1.pdf","mappa": "mappa1.png","id_immobile": 1}```
| POST | /api/immobili | Crea un nuovo immobile | Admin | ``` {"foto": "foto1.jpg","cap": "20100","citta": "Milano","indirizzo": "Via Dante 12","prezzo": 350000.0,"locali": 4,"superficie": 120,"descrizione": "Appartamento moderno in zona centrale con vista Duomo","caratteristiche": {"tipologia": "Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2,"balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1},"planimetria":"planimetria1.pdf","mappa": "mappa1.png","id_immobile": 1} ```
| GET | /api/immobili{id} | Recupera i dettagli di un immobile specifico tramite il suo id | Admin | ``` {"foto": "foto1.jpg","cap": "20100","citta": "Milano","indirizzo": "Via Dante 12","prezzo": 350000.0,"locali": 4,"superficie": 120,"descrizione": "Appartamento moderno in zona centrale con vista Duomo","caratteristiche": {"tipologia": "Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2,"balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1},"planimetria":"planimetria1.pdf","mappa": "mappa1.png","id_immobile": 1} ```
| DELETE | /api/immobili/delete/{id} | Elimina un immobile specifico tramite il suo id | Admin |
| PUT | /api/immobili/edit/{id} | Modifica un immobile specifico tramite il suo id | Admin | ``` {"foto": "foto1.jpg","cap": "20100","citta": "Milano","indirizzo": "Via Dante 12","prezzo": 350000.0,"locali": 4,"superficie": 120,"descrizione": "Appartamento moderno in zona centrale con vista Duomo","caratteristiche": {"tipologia": "Appartamento","piano": "3° piano","ascensore": true,"arredato": true,"disponibilita": "Disponibile","contratto": "Vendita","piani_edificio": 5,"anno_costruzione": 2010,"classe_energetica": "A1","accesso_disabili": true,"camere": 3,"bagni": 2,"balcone": 2,"riscaldamento": "Autonomo","terrazzo": true,"giardino": false,"box_auto": 1,"cantina": true,"altre_caratteristiche": "Vista panoramica, parquet","id_caratteristiche": 1},"planimetria":"planimetria1.pdf","mappa": "mappa1.png","id_immobile": 1} ```
| GET | /api/ruoli | Recupera l'elenco di tutti i ruoli |``` {"nome": "Admin","id_ruolo": 1},{"nome": "Agente","id_ruolo": 2},{"nome": "Utente","id_ruolo": 3}```|
| GET | /api/ruoli{id} | Recupera i dettagli di un ruolo specifico tramite il suo id |``` {"nome": "Admin","id_ruolo": 1},{"nome": "Agente","id_ruolo": 2},{"nome": "Utente","id_ruolo": 3}```|
| GET | /api/utenti |  Recupera l'elenco di tutti gli utenti | Admin |```{"nome": "Laura","cognome": "Moretti","telefono": "3342345678","codice_fiscale": "MRRLRA90C45F205T","email": "laura.moretti@email.it","passw": "utente456","id_utente": 2,"id_ruolo": 3}```|
| POST | /api/utenti | Crea un nuovo utente |```{"nome": "Laura","cognome": "Moretti","telefono": "3342345678","codice_fiscale": "MRRLRA90C45F205T","email": "laura.moretti@email.it","passw": "utente456","id_ruolo": 3}```|
| GET | /api/utenti{id} | Recupera i dettagli di un utente specifico tramite il suo id | Admin |```{"nome": "Laura","cognome": "Moretti","telefono": "3342345678","codice_fiscale": "MRRLRA90C45F205T","email": "laura.moretti@email.it","passw": "utente456","id_utente": 2,"id_ruolo": 3}```|
| DELETE | /api/utenti/delete/{id} | Elimina un utente specifico tramite il suo id | Admin |
| PUT | /api/utenti/edit/{id} | Modifica un utente specifico tramite il suo id |```{"nome": "Laura","cognome": "Moretti","telefono": "3342345678","codice_fiscale": "MRRLRA90C45F205T","email": "laura.moretti@email.it","passw": "utente456","id_utente": 2,"id_ruolo": 3}```|
| POST | /api/valutazione/calcola | Calcola la valutazione dell'immobile stimata | Utente |
| GET | /api/visite | Recupera l'elenco di tutte le visite | Admin e Agente|``` {"data": "2025-11-15T10:00:00","id_immobile": 1,"id_utente": 3,"id_agente": 1,"id_Visita": 1}```
| POST | /api/visite | Crea una nuova visita|  Admin e Utente |``` {"data": "2025-11-15T10:00:00","id_immobile": 1,"id_utente": 3,"id_agente": 1}```
| GET | /api/visite{id} | Recupera i dettagli di una visita specifico tramite il suo id | Admin e Agente |``` {"data": "2025-11-15T10:00:00","id_immobile": 1,"id_utente": 3,"id_agente": 1,"id_Visita": 1}```
| DELETE | /api/visite/delete/{id} | Elimina una visita specifico tramite il suo id | Admin |
| PUT | /api/visite/edit/{id} | Modifica una visita specifico tramite il suo id | Admin |``` {"data": "2025-11-15T10:00:00","id_immobile": 1,"id_utente": 3,"id_agente": 1,"id_Visita": 1}```
