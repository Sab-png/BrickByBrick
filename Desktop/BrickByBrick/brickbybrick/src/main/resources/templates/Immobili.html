<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immobili</title>
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    >
</head>
<body>
    <h1>Immobili</h1>

    <!-- <form th:action="@{/immobili/filtra}" method="get">
        <div class="grid">
            <input type="text" name="regione" placeholder="Regione" th:value="${regione}">
            <input type="text" name="citta" placeholder="Città" th:value="${citta}">
            <input type="text" name="cap" placeholder="CAP" th:value="${cap}">
            <input type="text" name="indirizzo" placeholder="Indirizzo" th:value="${indirizzo}">
            <input type="number" step="0.01" name="prezzo" placeholder="Prezzo max" th:value="${prezzo}">
            <input type="number" name="locali" placeholder="Locali min" th:value="${locali}">
            <input type="number" step="0.01" name="superficie" placeholder="Superficie min" th:value="${superficie}"> -->

            <!-- Campi caratteristiche con safe navigation -->
            <!-- <input type="text" name="tipologia" placeholder="Tipologia" th:value="${immobile?.caratteristiche?.tipologia}">
            <input type="number" name="piano" placeholder="Piano" th:value="${immobile?.caratteristiche?.piano}">
            <input type="checkbox" name="ascensore" th:checked="${immobile?.caratteristiche?.ascensore}"> Ascensore
            <input type="checkbox" name="arredato" th:checked="${immobile?.caratteristiche?.arredato}"> Arredato
            <input type="checkbox" name="disponibilita" th:checked="${immobile?.caratteristiche?.disponibilita}"> Disponibile
            <input type="text" name="contratto" placeholder="Contratto" th:value="${immobile?.caratteristiche?.contratto}">
            <input type="number" name="piani_edificio" placeholder="Piani edificio" th:value="${immobile?.caratteristiche?.piani_edificio}">
            <input type="number" name="anno_costruzione" placeholder="Anno costruzione" th:value="${immobile?.caratteristiche?.anno_costruzione}">
            <input type="text" name="classe_energetica" placeholder="Classe energetica" th:value="${immobile?.caratteristiche?.classe_energetica}">
            <input type="checkbox" name="accesso_disabili" th:checked="${immobile?.caratteristiche?.accesso_disabili}"> Accesso disabili
            <input type="number" name="camere" placeholder="Camere min" th:value="${immobile?.caratteristiche?.camere}">
            <input type="number" name="bagni" placeholder="Bagni min" th:value="${immobile?.caratteristiche?.bagni}">
            <input type="checkbox" name="balcone" th:checked="${immobile?.caratteristiche?.balcone}"> Balcone
            <input type="text" name="riscaldamento" placeholder="Riscaldamento" th:value="${immobile?.caratteristiche?.riscaldamento}">
            <input type="checkbox" name="terrazzo" th:checked="${immobile?.caratteristiche?.terrazzo}"> Terrazzo
            <input type="checkbox" name="giardino" th:checked="${immobile?.caratteristiche?.giardino}"> Giardino
            <input type="checkbox" name="box_auto" th:checked="${immobile?.caratteristiche?.box_auto}"> Box auto
            <input type="checkbox" name="cantina" th:checked="${immobile?.caratteristiche?.cantina}"> Cantina
        </div>

        <button type="submit">Filtra</button>
        <a href="/immobili">Reset</a>
    </form> -->

    <div>
        <table style="width: 100%;">
            <thead>
            <tr>
                <th>Foto</th>
                <th>Regione</th>
                <th>CAP</th>
                <th>Città</th>
                <th>Indirizzo</th>
                <th>Prezzo</th>
                <th>Locali</th>
                <th>Superficie</th>
                <th>Descrizione</th>
                <th>Id Caratteristiche</th>
                <th>Planimetria</th>
                <th>Mappa</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="immobile : ${immobili}">
                <td th:text="${immobile.foto}"></td>
                <td th:text="${immobile.regione}"></td>
                <td th:text="${immobile.cap}"></td>
                <td th:text="${immobile.citta}"></td>
                <td th:text="${immobile.indirizzo}"></td>
                <td th:text="${immobile.prezzo}"></td>
                <td th:text="${immobile.locali}"></td>
                <td th:text="${immobile.superficie}"></td>
                <td th:text="${immobile.descrizione}"></td>
                <td th:text="${immobile.caratteristiche?.id_caratteristiche}"></td>
                <td th:text="${immobile.planimetria}"></td>
                <td th:text="${immobile.mappa}"></td>
            </tr>
            </tbody>
        </table>
    </div>

</body>
</html>
